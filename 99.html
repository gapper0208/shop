<!DOCTYPE html>
<html>
<head>
<title>title star</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta charset="utf-8" />
<link rel="stylesheet" href="https://apps.bdimg.com/libs/jquerymobile/1.4.5/jquery.mobile-1.4.5.min.css">
<script src="https://apps.bdimg.com/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="https://apps.bdimg.com/libs/jquerymobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
<style>
	.expression {
		float: left;
		margin:5px;
		width: 180px;
		height: 40px;
	}
	.result {
		visibility: hidden;
		color: orange;
		font-size: 20px;
		font-weight: bold;
	}
	#content{
		overflow: scroll;
	}
</style>
</head>
<body>
<script>
	$(function() {

		function clearContent() {
			$("#content").empty();
		}

		function print99() {
			var i, j;
			for(i = 1; i <= 9; i++) {
				for(j = 1; j <= i; j++) {
					$("#content").append("<span style='font-size:12px;'>" + j+"×"+i + "=" +  j*i + "&nbsp;&nbsp;</span>");
				}
				$("#content").append("<br /><br />");	
			}


		}

		function randomExpression(){

			$("#header").html("<h2 align='center'>乘法口算</h2>");

			var expressions = [];
			var i, j;
			for(i = 1; i <= 9; i++) {
				for(j = 1; j <= i; j++) {
					expressions.push(j+"×"+i + "=" + "<span class='result'>" + i*j + "</span>");
				}
			}
			for(i = 1; i <= expressions.length; i++) {
				var a = parseInt(Math.random() * expressions.length);
				var b = parseInt(Math.random() * expressions.length);
				var t = expressions[a];
				expressions[a] = expressions[b];
				expressions[b] = t;
			}
			for(p in expressions) {
				var expression = $("<div class='expression'>").append(expressions[p]);
				$("#content").append(expression);
			}
		}


		function randomExpressionWithCompare(){

			$("#header").html("<h2 align='center'>>填最小， <填最大</h2>");

			var expressions = [];
			var i;
			var flag = true;
			for(i = 1; i <= 45; i++) {
					var sign;

					flag = !flag;
					sign = flag ? "<" : ">";

					var a = parseInt(Math.random() * 8 + 2);
					var b = parseInt(Math.random() * 8 + 2);

					var r = a*b;

					if(sign == ">") {
						r -= parseInt(Math.random() * a + 1);
					}
					if(sign == "<") {
						r += parseInt(Math.random() * a + 1);
					}

					expressions.push(a + "×" + "(<span class='result'>"+b+"</span>)" + sign + r);
					
			}

			for(i = 1; i <= expressions.length; i++) {
				var a = parseInt(Math.random() * expressions.length);
				var b = parseInt(Math.random() * expressions.length);
				var t = expressions[a];
				expressions[a] = expressions[b];
				expressions[b] = t;
			}
			for(p in expressions) {
				var expression = $("<div class='expression'>").append(expressions[p]);
				$("#content").append(expression);
			}
		}

		function randomDivideExpression(){
			$("#header").html("<h2 align='center'>除法口算</h2>");

			var expressions = [];
			var i;
			var flag = true;
			for(i = 1; i <= 9; i++) {
				for(j = 1; j <= i; j++) {
					var r = i * j;
					expressions.push(r + "÷" + i + "=" + "(<span class='result'>"+j+"</span>)");
				}
			}

			for(i = 1; i <= expressions.length; i++) {
				var a = parseInt(Math.random() * expressions.length);
				var b = parseInt(Math.random() * expressions.length);
				var t = expressions[a];
				expressions[a] = expressions[b];
				expressions[b] = t;
			}
			for(p in expressions) {
				var expression = $("<div class='expression'>").append(expressions[p]);
				$("#content").append(expression);
			}
		}


		function randomDivideExpressionWithremainder() {
			$("#header").html("<h2 align='center'>除法求余数</h2>");

			var expressions = [];
			var i;
			var flag = true;
			for(i = 3; i <= 9; i++) {
				for(j = 1; j <= i; j++) {
					var r = i * j;
					var mod = parseInt(Math.random() * i);
					r += mod;
					expressions.push(r + "÷" + i + "=" + "(<span class='result'>"+j+"</span>).." + "(<span class='result'>"+mod+"</span>)");
				}
			}

			for(i = 1; i <= expressions.length; i++) {
				var a = parseInt(Math.random() * expressions.length);
				var b = parseInt(Math.random() * expressions.length);
				var t = expressions[a];
				expressions[a] = expressions[b];
				expressions[b] = t;
			}
			for(p in expressions) {
				var expression = $("<div class='expression'>").append(expressions[p]);
				$("#content").append(expression);
			}
		}

		function multipleExpression() {
			$("#header").html("<h2 align='center'>二年级暑期计算作业</h2>");
			var expressions = [];


			$("#content").append($("<div>").html("一、直接写出结果。"));


			var i;
			var flag = true;
			// 20道4位数，3位数运算题
			for(i = 1; i <= 20; i++) {
				var a,b;
				// 简单4位数运算
				if(i % 2 == 1) {
					do {
						a = parseInt(Math.random() * 51);
					} while (a < 10);
					do {
						b = parseInt(Math.random() * 51);
					} while (b < 10);
					a*=100;
					b*=100;
				} else {
					
					var a1,a2,a3,t;
					a1 = parseInt(Math.random() * 10);
					a2 = parseInt(Math.random() * 10);
					a3 = parseInt(Math.random() * 10);

					var b1,b2,b3;
					do {
						b1 = parseInt(Math.random() * 10);
					} while(b1 == a1);
					do {
						b2 = parseInt(Math.random() * 10);
					} while(b2 == a2);
					do {
						b3 = parseInt(Math.random() * 10);
					} while(b3 == a3);



					if(b1 > a1) {
						t = a1;
						a1 = b1;
						b1 = t;
					}
					if(a2 > b2) {
						t = a2;
						a2 = b2;
						b2 = t;
					}
					if(a3 > b3) {
						t = a3;
						a3 = b3;
						b3 = t;
					}

					a = +(a1 + "" + a2 + a3);
					b = +(b1 + "" + b2 + b3);
				}

				var r;
				if(i % 3 == 1) {
					r = a + b;
					expressions.push(a + "+" + b + "=" + "<span class='result'>"+r+"</span>");
				} else {
					if(a < b) {
						var t = a;
						a = b;
						b = t;
					}
					r = a - b;
					expressions.push(a + "-" + b + "=" + "<span class='result'>"+r+"</span>");
				}

			}

			for(i = 1; i <= expressions.length; i++) {
				var a = parseInt(Math.random() * expressions.length);
				var b = parseInt(Math.random() * expressions.length);
				var t = expressions[a];
				expressions[a] = expressions[b];
				expressions[b] = t;
			}

			// 10道求余
			for(k = 1; k <= 10; k++) {
				var i = parseInt(Math.random() * 5) + 5;
				var j = parseInt(Math.random() * 5) + 5;
				var r = i * j;
				var mod;
				do {
					mod = parseInt(Math.random() * i);
					r += mod;
				} while(parseInt(r / i) == r / i);
				expressions.push(r + "÷" + i + "=" + "<span class='result'>"+j+"</span>" + "　　<span class='result'>"+mod+"</span>");
			}

			// 10道时间换算
			for(k = 1; k <= 10; k++) {
				var hour,min,sec;
				var n = parseInt(Math.random() * 7) + 1;
				switch(n) {
					case 1: // 1 时-分
					hour = parseInt(Math.random() * 5) + 1;
					expressions.push(hour + "时=(<span class='result'>"+hour*60+"</span>)分");
					break;
					case 2: // 2 秒-分
					sec = (parseInt(Math.random() * 5) + 1) * 60;
					expressions.push(sec + "秒=(<span class='result'>"+sec/60+"</span>)分");
					break;
					case 3: // 3 分-秒
					min = (parseInt(Math.random() * 10) + 1);
					expressions.push(min + "分=(<span class='result'>"+min*60+"</span>)秒");
					break;
					case 4: // 4 时分-分
					hour = parseInt(Math.random() * 3) + 1;
					min = (parseInt(Math.random() * 11) + 1) * 5;
					expressions.push(hour+"时"+min+"分=(<span class='result'>"+(hour*60+min)+"</span>)分");
					break;
					case 5: // 5 分秒-秒
					min = (parseInt(Math.random() * 10) + 1) ;
					sec = (parseInt(Math.random() * 11) + 1) * 5;
					expressions.push(min+"分"+sec+"秒=(<span class='result'>"+(min*60+sec)+"</span>)秒");
					break;
					case 6: // 6 分-时分
					hour = parseInt(Math.random() * 3) + 1;
					min = (parseInt(Math.random() * 11) + 1) * 5;
					expressions.push(hour*60+min+"分=(<span class='result'>"+hour+"</span>)时(<span class='result'>"+min+"</span>)分");
					break;
					case 7: // 7 秒-分秒
					min = parseInt(Math.random() * 3) + 1;
					sec = (parseInt(Math.random() * 11) + 1) * 5;
					expressions.push(min*60+sec+"秒=(<span class='result'>"+min+"</span>)分(<span class='result'>"+sec+"</span>)秒");
					break;
				}
			}


			// 10道长度单位换算
			for(k = 1; k <= 10; k++) {
				var m,dm,cm,mm;
				var n = parseInt(Math.random() * 7) + 1;
				switch(n) {
					case 1: // 1 米、分米---分米
					m = parseInt(Math.random() * 10) + 1;
					dm = parseInt(Math.random() * 9) + 1;
					expressions.push(m+"米"+dm+"分米=(<span class='result'>"+(m*10+dm)+"</span>)分米");
					break;
					case 2: // 2 分米、厘米---厘米
					dm = parseInt(Math.random() * 10) + 1;
					cm = parseInt(Math.random() * 9) + 1;
					expressions.push(dm+"分米"+cm+"厘米=(<span class='result'>"+(dm*10+cm)+"</span>)厘米");
					break;
					case 3: // 3 厘米、毫米---毫米
					cm = parseInt(Math.random() * 10) + 1;
					mm = parseInt(Math.random() * 9) + 1;
					expressions.push(cm+"厘米"+mm+"毫米=(<span class='result'>"+(cm*10+mm)+"</span>)毫米");
					break;
					case 4: // 4 分米---米、分米
					m = parseInt(Math.random() * 10) + 1;
					dm = parseInt(Math.random() * 9) + 1;
					expressions.push((m*10+dm)+"分米=(<span class='result'>"+m+"</span>)米(<span class='result'>"+dm+"</span>)分米");
					break;
					case 5: // 5 厘米---分米、厘米
					dm = parseInt(Math.random() * 10) + 1;
					cm = parseInt(Math.random() * 9) + 1;
					expressions.push((dm*10+cm)+"厘米=(<span class='result'>"+dm+"</span>)分米(<span class='result'>"+cm+"</span>)厘米");
					break;
					case 6: // 6 毫米---厘米、毫米
					cm = parseInt(Math.random() * 10) + 1;
					mm = parseInt(Math.random() * 9) + 1;
					expressions.push((cm*10+mm)+"毫米=(<span class='result'>"+cm+"</span>)厘米(<span class='result'>"+mm+"</span>)毫米");
					break;
					case 7: // 7 米、厘米---厘米
					m = parseInt(Math.random() * 10) + 1;
					cm = parseInt(Math.random() * 100);
					expressions.push(m+"米"+cm+"厘米=(<span class='result'>"+(m*100+cm)+"</span>)厘米");
					break;
					case 8: // 8 分米、毫米---毫米
					dm = parseInt(Math.random() * 10) + 1;
					mm = parseInt(Math.random() * 100);
					expressions.push(dm+"分米"+mm+"毫米=(<span class='result'>"+(dm*100+mm)+"</span>)毫米");
					break;
				}
			}

			/*
			for(i = 1; i <= expressions.length; i++) {
				var a = parseInt(Math.random() * expressions.length);
				var b = parseInt(Math.random() * expressions.length);
				var t = expressions[a];
				expressions[a] = expressions[b];
				expressions[b] = t;
			}*/
			for(p in expressions) {
				var expression = $("<div class='expression'>").append(expressions[p]);
				$("#content").append(expression);
			}

			// 清空表达式数组，准备存入第二题
			expressions.length = 0;
			for(k = 1; k<= 22; k++) {
				$("#content").append("&nbsp;<br />");
			}
			$("#content").append($("<div style='clear:both;'>").html("二、列竖式计算，带*的要进行验算。"));
			for(k = 1; k <= 6; k++) {
				if(k <= 4) {
					var a1,a2,a3,t;
					a1 = parseInt(Math.random() * 10);
					a2 = parseInt(Math.random() * 10);
					a3 = parseInt(Math.random() * 10);

					var b1,b2,b3;
					do {
						b1 = parseInt(Math.random() * 10);
					} while(b1 == a1);
					do {
						b2 = parseInt(Math.random() * 10);
					} while(b2 == a2);
					do {
						b3 = parseInt(Math.random() * 10);
					} while(b3 == a3);


					if(b1 > a1) {
						t = a1;
						a1 = b1;
						b1 = t;
					}
					if(a2 > b2) {
						t = a2;
						a2 = b2;
						b2 = t;
					}
					if(a3 > b3) {
						t = a3;
						a3 = b3;
						b3 = t;
					}

					a = +(a1 + "" + a2 + a3);
					b = +(b1 + "" + b2 + b3);

					if(k <=2) {
						r = a + b;
						expressions.push("* " + a + "+" + b + "=" + "<span class='result'>"+r+"</span>");
					} else {
						if(a < b) {
							t = a;
							a = b;
							b = t;
						}
						r = a - b;
						expressions.push("* " + a + "-" + b + "=" + "<span class='result'>"+r+"</span>");
					}
				} else if(k <= 6) {
					do {
						a = parseInt(Math.random() * 32) + 50;
						b = parseInt(Math.random() * 4) + 6;
						r = parseInt(a / b);
						r2 = a % b;
					} while(r2 == 0)
					
					expressions.push("  " + a + "÷" + b + "=" + "<span class='result'>"+r+"</span>　　<span class='result'>"+r2+"</span>");
				}
			}

			for(p in expressions) {
				// 为第二题添加一些空白
				var expression = $("<div class='expression' style='margin-bottom:100px;'>").append(expressions[p]);
				$("#content").append(expression);
			}
		}


		function practiceLevelOne() {
			answer = true;
			clearContent();
			print99();
		}

		function practiceLevelTwo() {
			answer = true;
			clearContent();
			randomExpression();
		}

		function practiceLevelThree() {
			answer = true;
			clearContent();
			randomExpressionWithCompare();
		}

		function practiceLevelFour() {
			answer = true;
			clearContent();
			randomDivideExpression();
		}

		function practiceLevelFive() {
			answer = true;
			clearContent();
			randomDivideExpressionWithremainder();
		}

		function practiceLevelSix() {
			answer = true;
			clearContent();
			multipleExpression();
		}

		function init(){
			practiceLevelOne();
		}

		init();

		$("#btn1").click(function() {
			practiceLevelOne();
		});

		$("#btn2").click(function() {
			practiceLevelTwo();
		});

		$("#btn3").click(function() {
			practiceLevelThree();
		});

		$("#btn4").click(function() {
			practiceLevelFour();
		});

		$("#btn5").click(function() {
			practiceLevelFive();
		});

		$("#btn6").click(function() {
			practiceLevelSix();

		});

		$("#btn8").click(function() {
			$(this).parent().slideUp();

		});

		var answer = true;
		$("#btn7").click(function() {
			if(answer) {
				$(".result").css("visibility","visible");
				$(this).children(":eq(0)").html("隐藏答案");
			} else {
				$(".result").css("visibility","hidden");
				$(this).children(":eq(0)").html("显示答案");
			}
			answer = !answer;
		});
	});	
</script>

<div data-role="page" id="pageone">
  <div id="header" data-role="header">
   <h1>小星辰，让孩子爱上学习！</h1>
  </div>

  <div id="footer" data-role="footer">
    <button id="btn1"><h3>99乘法表</h3></button>
    <button id="btn2"><h3>口算乘法(点击刷新)</h3></button>
    <button id="btn3"><h3>乘法提升(点击刷新)</h3></button>
    <button id="btn4"><h3>口算除法(点击刷新)</h3></button>
    <button id="btn5"><h3>除法求余(点击刷新)</h3></button>
    <button id="btn6"><h3>二年级暑期计算作业(点击刷新)</h3></button>
	<button id="btn7"><h3>显示答案</h3></button>
	<button id="btn8">隐藏所有按钮</button>
  </div>

  <div id="content" data-role="content">
  </div>

  
</div>

</body>
</html>
